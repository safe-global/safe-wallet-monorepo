appId: global.safe.mobileapp.ios
---
# ===========================================
# Received Transaction
# ===========================================
- assertVisible: Transaction details
- assertVisible:
    id: 'share-transaction-button'
- assertVisible: Received
- assertVisible:
    text: '.*\+.*QTRUST.*|.*\d+.*QTRUST.*'
    optional: true

# ===========================================
# Sender Address (From field)
# ===========================================
- runFlow:
    file: ../../shared/test-tx-sender.yml

# ===========================================
# Network Display
# ===========================================
- runFlow:
    file: ../../shared/test-tx-network.yml

# Note: Received transactions don't have the Transaction Details button
# Only outgoing transactions show it

# ===========================================
# Transaction Info
# Note: Received transactions may not have "Created" date,
# only "Executed" date. We'll test what's available.
# ===========================================
- assertVisible: 'Executed'
- assertVisible:
    id: 'executed-at-value'
    text: '\d{1,2} (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) \d{4}, \d{1,2}:\d{2} (AM|PM)'

- assertVisible: 'Transaction hash'
- assertVisible:
    id: 'hash-display-name-or-address'
    text: '0x[0-9a-fA-F]{4}.*[0-9a-fA-F]{4}'
    index: 1

- assertVisible: 'Status'
- assertVisible: 'Success'

# ===========================================
# Test Explorer Link
# ===========================================
- runFlow:
    file: ../../shared/test-explorer-link.yml

- assertVisible: Transaction details

# ===========================================
# Test Share Transaction Button
# ===========================================
- runFlow:
    file: ../../shared/test-share-link.yml

- assertVisible: Transaction details
