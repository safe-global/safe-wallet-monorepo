appId: ${APP_ID}
tags:
  - transactions
  - history
---
- runFlow:
    file: ../../../utils/setup/app-start.yml

# Navigate to Transaction History using e2e button
- tapOn:
    id: 'e2eTransactionHistoryDirect'

- assertVisible:
    id: 'tx-history-list'

# Switch to Stake Deposit Safe
- tapOn:
    id: 'home-tab'

# Switch to Stake Deposit Safe using the utility
- runFlow:
    file: ../../../utils/setup/switch-safe.yml
    env:
      SAFE_NAME_PATTERN: '.*Stake Deposit Safe.*'

# Navigate to transactions tab
- tapOn:
    id: 'transactions-tab'

- assertVisible:
    id: 'tx-history-list'

# Scroll down until we find the stake deposit
- scrollUntilVisible:
    element:
      text: '.*Deposit.*'
    centerElement: true
    speed: 20

# Test stake deposit transaction
- runFlow:
    file: ../../../utils/components/tx-history/stake-deposit-tx-card.yml
