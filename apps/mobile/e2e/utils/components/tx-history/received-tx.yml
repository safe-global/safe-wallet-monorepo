appId: global.safe.mobileapp.ios
tags:
  - util
---
# ===========================================
# Received Transaction
# ===========================================
- assertVisible: Transaction details
- assertVisible: Received
- extendedWaitUntil:
    visible:
      text: '.*\+.*QTRUST.*|.*\d+.*QTRUST.*'
      optional: true
    timeout: 2000

# ===========================================
# Sender Address (From field)
# ===========================================
- runFlow:
    file: ../../assertions/verify-tx-sender.yml

# ===========================================
# Network Display
# ===========================================
- runFlow:
    file: ../../assertions/verify-tx-network.yml

# Note: Received transactions don't have the Transaction Details button
# Only outgoing transactions show it

# ===========================================
# Transaction Info
# Note: Received transactions may not have "Created" date,
# only "Executed" date. We'll test what's available.
# ===========================================
- assertVisible: 'Executed'
- assertVisible:
    id: 'executed-at-value'
    text: '\d{1,2} (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) \d{4}, \d{1,2}:\d{2} (AM|PM)'

- assertVisible: 'Transaction hash'
- assertVisible:
    id: 'hash-display-name-or-address'
    text: '0x[0-9a-fA-F]{4}.*[0-9a-fA-F]{4}'
    index: 1

- assertVisible: 'Status'
- assertVisible: 'Success'

# ===========================================
# Test Explorer Link
# ===========================================
- runFlow:
    file: ../../assertions/verify-explorer-link.yml

- assertVisible: Transaction details

# ===========================================
# Test Share Transaction Button
# ===========================================
- runFlow:
    file: ../../assertions/verify-share-link.yml

- assertVisible: Transaction details
