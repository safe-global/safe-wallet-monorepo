appId: ${APP_ID}
tags:
  - util
---
- runScript:
    file: ../../../utils/scripts/defaults.js
# ===========================================
# setFallbackHandler Transaction Card (Pending)
# ===========================================
# Tests clicking on a setFallbackHandler transaction in the pending transactions list
# setFallbackHandler transactions appear as "Settings change" type

- assertVisible:
    text: 'Settings change'

- extendedWaitUntil:
    visible:
      text: '.*setFallbackHandler.*'
      optional: true
    timeout: ${output.defaults.extendedWaitUntilTimeout}

# Tap on the Settings change transaction text
# Using index 0 to ensure we tap the first setFallbackHandler transaction
- tapOn:
    text: 'Settings change'
    index: 0

- runFlow:
    file: ./setFallbackHandler-tx.yml

- tapOn:
    id: 'go-back'
